(function(){"use strict";var t={4281:function(t,n,e){var i=e(9242),s=e(3396),o=e(7139);const a={class:"container"},r=(0,s._)("h1",{class:"mb-3"},"Bedroom Clock",-1),l={id:"device-info",class:"mb-3"},c=(0,s._)("h2",null,"Device Info",-1),f={class:"list-group"},u={class:"list-group-item"},d={class:"list-group-item"},m={class:"list-group-item"},h={class:"list-group-item"},p={class:"list-group-item"},g={id:"sensor-values",class:"mb-3"},v=(0,s._)("h2",null,"Sensor Values",-1),b={class:"list-group"},w={class:"list-group-item"},_={class:"list-group-item"},y={id:"settings"},k=(0,s._)("h2",null,"Settings",-1),S=(0,s._)("label",{for:"brightness",class:"form-label"},"brightness",-1),O=["value"],j={id:"admin-actions",class:"mb-3"},T=(0,s._)("h2",null,"Admin Stuff",-1),U=["disabled"];function I(t,n,e,I,z,C){const W=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("div",a,[r,(0,s._)("section",l,[c,(0,s._)("ul",f,[(0,s._)("li",u,[(0,s.Wm)(W,{icon:"fa-solid fa-code-branch"}),(0,s.Uk)(" "+(0,o.zw)(z.info?.version??"n.a."),1)]),(0,s._)("li",d,[(0,s.Wm)(W,{icon:"fa-solid fa-barcode"}),(0,s.Uk)(" "+(0,o.zw)(z.info?.system?.deviceId??"n.a."),1)]),(0,s._)("li",m,[(0,s.Wm)(W,{icon:"fa-solid fa-clock"}),(0,s.Uk)(" "+(0,o.zw)(C.formatedTime??"n.a."),1)]),(0,s._)("li",h,[(0,s.Wm)(W,{icon:"fa-solid fa-wifi"}),(0,s.Uk)(" "+(0,o.zw)(z.info?.network?.wifiQuality??"n.a.")+" % ",1)]),(0,s._)("li",p,[(0,s.Wm)(W,{icon:"fa-solid fa-hourglass"}),(0,s.Uk)(" "+(0,o.zw)(C.formatedUptime),1)])])]),(0,s._)("section",g,[v,(0,s._)("ul",b,[(0,s._)("li",w,[(0,s.Wm)(W,{icon:"fa-solid fa-temperature-half"}),(0,s.Uk)(" "+(0,o.zw)(z.info?.values?.temp??"n.a.")+" Â°C ",1)]),(0,s._)("li",_,[(0,s.Wm)(W,{icon:"fa-solid fa-droplet"}),(0,s.Uk)(" "+(0,o.zw)(z.info?.values?.humidity??"n.a.")+" % ",1)])])]),(0,s._)("section",y,[k,(0,s.wy)((0,s._)("div",null,[S,(0,s._)("input",{type:"range",class:"form-range",id:"brightness",min:"0",max:"255",value:this.settings?.brightness,onInput:n[0]||(n[0]=t=>this.settings.brightness=t.target.value)},null,40,O)],512),[[i.F8,void 0!==z.settings?.brightness]])]),(0,s._)("section",j,[T,(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:n[1]||(n[1]=(...t)=>C.saveSettings&&C.saveSettings(...t)),disabled:!z.settings},"Save Settings",8,U),(0,s._)("button",{type:"button",class:"btn btn-danger ms-2",onClick:n[2]||(n[2]=(...t)=>C.hardReset&&C.hardReset(...t))},"Hard Reset")])])}var z=e(3925),C=e.n(z),W={name:"App",components:{},data(){return{info:void 0,settings:void 0,dataTimer:void 0}},computed:{formatedUptime(){return this.info?.system?.uptime?C()(1e3*this.info.system.uptime,{largest:5}):"n.a."},formatedTime(){if(!this.info?.system?.time)return"n.a.";const t=new Date(1e3*this.info.system.time);return t.toLocaleString()}},methods:{async loadInfo(){const t=await fetch("/api/info");t.ok&&(this.info=await t.json())},async loadSettings(){const t=await fetch("/api/settings");t.ok&&(this.settings=await t.json())},async saveSettings(){const t=await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.settings)});t.ok||console.error("save settings fail")},async hardReset(){const t=await fetch("/api/hard-reset",{method:"POST"});t.ok||console.error("hard-reset fail")}},beforeMount(){this.dataTimer=setInterval((async()=>{await this.loadInfo()}),3e4),this.loadInfo(),this.loadSettings()},beforeUnmount(){clearInterval(this.dataTimer)}},x=e(89);const D=(0,x.Z)(W,[["render",I]]);var P=D,R=e(8125),A=e(8321),Z=e(7749);R.vI.add([A.mh3,A.VdD,A.SZw,A.$Aj,A.DH$,A.ccn,A.Zkk]),(0,i.ri)(P).component("font-awesome-icon",Z.GN).mount("#app")}},n={};function e(i){var s=n[i];if(void 0!==s)return s.exports;var o=n[i]={exports:{}};return t[i](o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(n,i,s,o){if(!i){var a=1/0;for(f=0;f<t.length;f++){i=t[f][0],s=t[f][1],o=t[f][2];for(var r=!0,l=0;l<i.length;l++)(!1&o||a>=o)&&Object.keys(e.O).every((function(t){return e.O[t](i[l])}))?i.splice(l--,1):(r=!1,o<a&&(a=o));if(r){t.splice(f--,1);var c=s();void 0!==c&&(n=c)}}return n}o=o||0;for(var f=t.length;f>0&&t[f-1][2]>o;f--)t[f]=t[f-1];t[f]=[i,s,o]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,i){var s,o,a=i[0],r=i[1],l=i[2],c=0;if(a.some((function(n){return 0!==t[n]}))){for(s in r)e.o(r,s)&&(e.m[s]=r[s]);if(l)var f=l(e)}for(n&&n(i);c<a.length;c++)o=a[c],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(f)},i=self["webpackChunkbedroom_clock_dashboard"]=self["webpackChunkbedroom_clock_dashboard"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=e.O(void 0,[998],(function(){return e(4281)}));i=e.O(i)})();
//# sourceMappingURL=app.46291783.js.map