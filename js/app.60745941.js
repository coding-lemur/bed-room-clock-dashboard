(function(){"use strict";var t={7244:function(t,e,i){var n=i(9242),s=i(3396),o=i(7139);const r={class:"container"},a=(0,s._)("h1",{class:"mb-3"},"Bedroom Clock",-1),c={id:"device-info",class:"mb-3"},l=(0,s._)("h2",null,"Device Info",-1),u={class:"list-group"},f={class:"list-group-item"},d={class:"list-group-item"},h={class:"list-group-item"},m=(0,s.Uk)(" n.a. "),p={class:"list-group-item"},v={class:"list-group-item"},b={id:"sensor-values",class:"mb-3"},g=(0,s._)("h2",null,"Sensor Values",-1),w={class:"list-group"},y={class:"list-group-item"},_={class:"list-group-item"},k={id:"settings"},I=(0,s._)("h2",null,"Settings",-1),O=(0,s._)("label",{for:"brightness",class:"form-label"},"brightness",-1),S=["value"],U={id:"admin-actions",class:"mb-3"},T=(0,s._)("h2",null,"Admin Stuff",-1);function j(t,e,i,n,j,C){const W=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("div",r,[a,(0,s._)("section",c,[l,(0,s._)("ul",u,[(0,s._)("li",f,[(0,s.Wm)(W,{icon:"fa-solid fa-code-branch"}),(0,s.Uk)(" "+(0,o.zw)(j.version??"n.a."),1)]),(0,s._)("li",d,[(0,s.Wm)(W,{icon:"fa-solid fa-barcode"}),(0,s.Uk)(" "+(0,o.zw)(j.deviceId??"n.a."),1)]),(0,s._)("li",h,[(0,s.Wm)(W,{icon:"fa-solid fa-clock"}),m]),(0,s._)("li",p,[(0,s.Wm)(W,{icon:"fa-solid fa-wifi"}),(0,s.Uk)(" "+(0,o.zw)(j.wifiQuality??"0")+" % ",1)]),(0,s._)("li",v,[(0,s.Wm)(W,{icon:"fa-solid fa-hourglass"}),(0,s.Uk)(" "+(0,o.zw)(C.formatedUptime),1)])])]),(0,s._)("section",b,[g,(0,s._)("ul",w,[(0,s._)("li",y,[(0,s.Wm)(W,{icon:"fa-solid fa-temperature-half"}),(0,s.Uk)(" "+(0,o.zw)(j.temperature??"n.a.")+" Â°C ",1)]),(0,s._)("li",_,[(0,s.Wm)(W,{icon:"fa-solid fa-droplet"}),(0,s.Uk)(" "+(0,o.zw)(j.humidity??"n.a.")+" % ",1)])])]),(0,s._)("section",k,[I,O,(0,s._)("input",{type:"range",class:"form-range",id:"brightness",min:"0",max:"255",value:j.brightness,onInput:e[0]||(e[0]=t=>this.brightness=t.target.value)},null,40,S)]),(0,s._)("section",U,[T,(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=(...t)=>C.saveSettings&&C.saveSettings(...t))},"Save Settings"),(0,s._)("button",{type:"button",class:"btn btn-danger ms-2",onClick:e[2]||(e[2]=(...t)=>C.hardReset&&C.hardReset(...t))},"Hard Reset")])])}var C=i(3925),W=i.n(C),z={name:"App",components:{},data(){return{version:void 0,deviceId:void 0,wifiQuality:void 0,uptime:void 0,temperature:void 0,humidity:void 0,dataTimer:void 0,refreshTimer:void 0,brightness:void 0}},computed:{formatedUptime(){return W()(1e3*this.uptime)}},methods:{async loadInfo(){const t=await fetch("/api/info"),e=await t.json(),{system:i,network:n,values:s}=e;this.version||(this.version=e.version),this.deviceId||(this.deviceId=i.deviceId),this.wifiQuality=n.wifiQuality,this.uptime||(this.uptime=i.uptime),this.temperature=s.temp,this.humidity=s.humidity},async loadSettings(){const t=await fetch("/api/settings");if(!t.ok)return;const e=await t.json();this.brightness=e.brightness},async saveSettings(){const t={brightness:this.brightness},e=await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});e.ok||console.error("save settings fail")},refreshUptime(){this.uptime&&this.uptime++},async hardReset(){const t=await fetch("/api/hard-reset",{method:"POST"});t.ok||console.error("hard-reset fail")}},beforeMount(){this.dataTimer=setInterval((async()=>{await this.loadInfo()}),3e4),this.refreshTimer=setInterval(this.refreshUptime,1e3),this.loadInfo(),this.loadSettings()},beforeUnmount(){clearInterval(this.refreshTimer),clearInterval(this.dataTimer)}},x=i(89);const D=(0,x.Z)(z,[["render",j]]);var P=D,Q=i(8125),R=i(8321),A=i(7749);Q.vI.add([R.mh3,R.VdD,R.SZw,R.$Aj,R.DH$,R.ccn,R.Zkk]),(0,n.ri)(P).component("font-awesome-icon",A.GN).mount("#app")}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,i),o.exports}i.m=t,function(){var t=[];i.O=function(e,n,s,o){if(!n){var r=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],o=t[u][2];for(var a=!0,c=0;c<n.length;c++)(!1&o||r>=o)&&Object.keys(i.O).every((function(t){return i.O[t](n[c])}))?n.splice(c--,1):(a=!1,o<r&&(r=o));if(a){t.splice(u--,1);var l=s();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,s,o]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,o,r=n[0],a=n[1],c=n[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(s in a)i.o(a,s)&&(i.m[s]=a[s]);if(c)var u=c(i)}for(e&&e(n);l<r.length;l++)o=r[l],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(u)},n=self["webpackChunkbedroom_clock_dashboard"]=self["webpackChunkbedroom_clock_dashboard"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(7244)}));n=i.O(n)})();
//# sourceMappingURL=app.60745941.js.map